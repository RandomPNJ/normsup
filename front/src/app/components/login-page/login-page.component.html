<div class="loginContainer">
    <img src="../../../assets/img/login-footer.svg" class="virtualBg" />
    <div class="container login-box">

        <div class="row">

            <div class="colorDiv col s12">
                <img src="../../../assets/img/normsup-logo.png" style="height: 75px;" />
                <div class="row" style="padding-top: 35px;">
                    <div class="col-lg-3 col-md-3 col-xs-3 col-3"></div>
                    <div class="input-field col-lg-6 col-md-6 col-xs-6 col-6 s6 nopadding">
                        <input id="credentialsUsername" name="credentialsUsername" type="email"
                            class="form-control  custom-normsup-input-nb" (keydown.enter)="validate()"
                            [(ngModel)]='credentials.username' required>
                        <label class="custom-normsup-label-test custom-label-input-test-active"
                            for="credentialsUsername">Adresse mail</label>
                    </div>
                    <div class="col-lg-3 col-md-3 col-xs-3 col-3"></div>
                </div>
                <div class="row" style="padding-top: 20px;">
                    <div class="col-lg-3 col-md-3 col-xs-3 col-3"></div>
                    <div class="input-field col-lg-6 col-md-6 col-xs-6 col-6 s6 nopadding">
                        <input id="password" name="credentialsPassword" type="password"
                            class="form-control  custom-normsup-input-nb" (keydown.enter)="validate()"
                            [(ngModel)]='credentials.password' required>
                        <label class="custom-normsup-label-test custom-label-input-test-active"
                            for="credentialsPassword">Mot de passe</label>
                    </div>
                    <div class="col-lg-3 col-md-3 col-xs-3 col-3"></div>
                </div>
                <div style="padding-top: 5px;">
                    <span *ngIf="errMsg" class="red-err-txt" style="font-size: 13px;">{{errMsg}}</span>
                </div>
                <div class="row form-check form-check-inline normsup-checkbox-cont login-checkbox">
                    <input class="form-check-input normsup-checkbox" type="checkbox" id="stayConnected"
                        [(ngModel)]="credentials.cacheConnected">
                    <label class="form-check-label r-robo-14 stayConnected" for="stayConnected">Restez connecté</label>
                </div>
                <div class="login-btn-cont">
                    <button class="btn new-btn-normsup login-btn"
                        style="position: relative;padding-bottom: 0.3rem !important;padding-top: 0.3rem !important;"
                        type="submit" name="submit" (click)='validate()'>
                        <span class="searchText">Connexion</span>
                    </button>
                </div>
            </div>
            <span (click)="openModal(resetPasswordRef)" class="forgot-password-lnk">Vous avez oublié votre mot de
                passe</span>
        </div>

    </div>
</div>

<div class="spinner-container" [ngClass]="{'show':isLoader}">
    <div class="cs-loader">
        <div class="login-spinner spinner-border text-primary" role="status">
            <span class="sr-only">Chargement...</span>
        </div>
    </div>
</div>

<ng-template #resetPassword>
    <div class="modal-header own-modal-header-supplier"></div>
    <div class="modal-body">
        <div class="mod-header">
            <div style="display: block;">
                &nbsp;
                <button type="button" style="cursor:pointer;width:20px;height:20px;" class="close pull-right"
                    aria-label="Close" (click)="hideModal('resetPwd')">
                    <img src="../../../assets/img/close-icn.svg"
                        style="height: 16px; cursor:pointer;pointer-events: none;" />
                </button>
            </div>
            <div class="supplier-modal-title">Mot de passe oublié</div>
        </div>
        <div>
            <div>
                <div class="row">
                    <!-- <span class="title-add-sup">Information sur l'entreprise recherchée</span> -->
                    <div style="text-align: center; padding: 0px 107px;" class="input-field col s12">
                        <!-- <span class="comp-txt">Email</span> -->
                        <label class="addSupp-label" for="company-input">Email</label>
                        <input pattern="^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$" required
                            class="form-control custom-normsup-input-nb enter-siret-input" [(ngModel)]="searchEmail"
                            (keydown.enter)="resetPassword(searchEmail)" #companyInput id="company-input" type="text"
                            data-length="10" appFocus>
                    </div>
                </div>
                <div style="padding-top: 5px;">
                    <span *ngIf="resetPwdErrMsg" class="red-err-txt" style="font-size: 13px;">{{resetPwdErrMsg}}</span>
                </div>
                <div class="f-button-addsup">
                    <button (click)="resetPasswordFnc(searchEmail)" [disabled]="!searchEmail"
                        class="btn btn-primary custom-normsup-button nxt-btn-addsup" type="submit" name="action">
                        <span class="searchText">Valider</span>
                    </button>
                    <span class="red-err-txt" *ngIf="searchEmail404">Cet email n'est pas utilisé par un de nos
                        utilisateur.</span>
                </div>
            </div>
            <div *ngIf="loadingSiret" style="padding-top: 15px; text-align: center;">
                <div class="loading-spinner spinner-border text-primary" role="status">
                    <span class="sr-only">Chargement...</span>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer" style="padding: 4px;border-style: none !important;"></div>
</ng-template>