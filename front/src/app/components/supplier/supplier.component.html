<div class="container main-cont">
  <div class="cont-wrapper">
    <div>
      <span class="title">Mes Fournisseurs</span>
    </div>
    <div class="sub-cont">
      <span class="table-header">Vous avez {{items.length | i18nPlural: itemPluralMapping['supplier']}}.</span>
      <div style="position: relative;">
        <span (click)="openModal(template)" class="glyphicon glyphicon-plus-sign plus-icn" role="button"></span>
      </div>
      <hr />
      <div class="table-cont">

        <app-supplier-table></app-supplier-table>

      </div>
    </div>
    <ng-template #template>
      <div class="modal-header">
        <h4 class="modal-title pull-left">Ajouter un fournisseur</h4>
        <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
          <div class="row">
            <div class="input-field col s12">
              <input [(ngModel)]="searchCompanyID" (keydown.enter)="searchCompany(searchCompanyID)" #companyInput id="company-input" type="text" data-length="10" appFocus>
              <label for="company-input">Société</label>
              <span class="helper-text">Dénomination, Sirene ou Siret</span>
            </div>
            <button (click)="searchCompany(searchCompanyID)" [disabled]="!searchCompanyID" class="btn waves-effect waves-light submit-btn" type="submit" name="action">Rechercher
              <i class="material-icons right">send</i>
            </button>
          </div>
          <div class="row" *ngIf="companies.length > 0">
            <span *ngFor="let company of companies; index as i">
                index = {{i}}
               {{company.fields.denominationunitelegale ? company.fields.denominationunitelegale : null}} <br/>
            </span>
          </div>
      </div>
    </ng-template>
  </div>
</div>